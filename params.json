{"name":"sfphp2","tagline":"Framework de desarrollo en PHP","body":"### sfphp 2\r\n##Simple Framework (for) PHP v.2.0\r\n\r\nSimplificando al máximo las características de todo framework para PHP, este permite ser un punto de entrada\r\npara quienes aún no están utilizando alguno, o desean entender cada elemento que componen uno.\r\n\r\nHaciendo uso de patrones singleton, carga de clases tipo Zend, y una implementación sencilla y propia de manejo\r\nde vistas, Sfphp, te puede ayudar a desarrollar una aplicación en un menor tiempo y organizando tus códigos\r\nde mejor manera.\r\n\r\n### Uso\r\nClona este repositorio, y ejecuta el script:\r\n```\r\ndominio.com/iniciar.php\r\n```\r\nEsto dejará una nueva estructura de directorios dónde comenzarás a alojar tu aplicación\r\n```\r\nApp\r\n|-Core\r\n|-Controladores\r\n|-|-Inicio.php\r\n|-Modelos\r\n|-Vistas\r\nEtc\r\n|-Cache\r\n|-Config\r\n|-|-config.xml\r\n|-Logs\r\n|-Sesiones\r\nLibs\r\n```\r\n##### O\r\nClona el branch skeleton, con una app sencilla de ejemplo\r\n\r\n## Configuracion\r\n\r\n### General de la APP\r\n```\r\n<app>\r\n\t<key>la clave generada por el script iniciar.php o que puedes obtener desde el script llave.php</key>\r\n\t<name>nombre de la app</name>\r\n\t<company>sincco</company>\r\n        <cache>segundos</cache>\r\n        <eemailapi>API de ElasticMail</eemailapi>\r\n</app>\r\n```\r\n### Front end\r\n```\r\n<front>\r\n\t<url>http://tudominio.com/</url>\r\n</front>\r\n```\r\n### Bases de datos\r\nSólo puedes tener una por default (a la que se conectan todos los modelos por defecto), pero tantas como necesites con un identificador distinto\r\n```\r\n<bases>\r\n\t<default>\r\n\t\t<host></host>\r\n\t\t<user></user>\r\n\t\t<password>encriptado con la llave de la app, puedes usar en script encriptar.php?s=password</password>\r\n\t\t<dbname></dbname>\r\n\t\t<type>firebird|mysql|sqlsrv|otro</type>\r\n\t</default>\r\n</bases>\r\n```\r\n### Opciones de desarrollo\r\n```\r\n<dev>\r\n\t<log>1|0 activa el log del framework (en Etc/Logs)</log>\r\n\t<showerrors>1|0 muestra los errores propios del framework en pantalla</showerrors>\r\n\t<showphperrors>1|0 muestra los errores de php</showphperrors>\r\n        <querylog>1|0 activa un log de querys ejecutados</querylog>\r\n        <contact>correo de contacto para soporte</contact>\r\n</dev>\r\n```\r\n\r\n### Cache\r\nSi la configuración lo especifica, se activa por default el cache para querys, que evita la petición excesiva a la BD.\r\nEstos archivos son vigentes durante los segundos indicados en la configuración y se depuran sobre las peticiones al sistema.\r\nSu depuración manual es eliminando los registros data_* del directorio Cache.\r\nSe incluye el script clear_cache, para eliminar toda la caché del sistema.\r\n\r\n### Query log\r\nDentro del directorio de Logs, se deja un archivo .sql con los querys que se ejecutan en los controladores de datos.\r\n\r\n\r\n### Peticiones\r\nCada petición se procesa seccionando la URL del siguiente modo:\r\n```\r\ndominio.com/[modulo]/controlador/accion/[(parametro1/valor1)...(parametron/valorn]\r\n```\r\nEl controlador y accion por defecto son 'inicio', por lo que, al no recibirse dentro de la URL, estos son los que se ejecutarán de forma inmediata, así que deben existir dentro de tu estructura de archivos.\r\n\r\n##### Parametros get\r\nLos parametros se procesan de forma lineal, por lo que, si no llevan el orden correcto, no podrás encontrar el valor que necesitas. \r\n```\r\n.../fruta/manzana/color/rojo\r\n```\r\nSe traduce en el siguiente arreglo:\r\n```\r\n(['fruta'] => ['manzana']) ,\r\n(['color'] => ['rojo']) \r\n```\r\nMientras que, si se rompe el patrón:\r\n```\r\n.../fruta/color/rojo\r\n```\r\nse obtiene:\r\n```\r\n(['fruta'] => ['color']) ,\r\n(['rojo'] => NULL) \r\n```\r\n\r\n### Log de errores\r\nEjecutando el script error_notification.php se envia un correo a la direccion configurada con el log actual de errores.\r\n\r\n### Nginx\r\nConfiguración básica para un vhost en Nginx\r\n```\r\nserver {\r\n        listen       80;\r\n        listen       [::]:80;\r\n        server_name sitio;\r\n        index index.php;\r\n        client_max_body_size 2M;\r\n        root /var/www/html/sitio;\r\n        proxy_set_header    Host              $host;\r\n        proxy_set_header    X-Real-IP         $remote_addr;\r\n        proxy_set_header    X-Forwarded-For   $proxy_add_x_forwarded_for;\r\n\r\n        # Don't serve hidden files.\r\n        location ~ /\\. {\r\n                deny all;\r\n        }\r\n\r\n        location = /favicon.ico {\r\n                log_not_found off;\r\n        }\r\n\r\n        location / {\r\n                try_files $uri /index.php?$args;\r\n        }\r\n\r\n        location ~ \\.php$ {\r\n                fastcgi_pass unix:/var/run/php5-fpm.sock;\r\n                fastcgi_index index.php;\r\n                include fastcgi_params;\r\n\r\n                #Activar CACHE PHP\r\n                fastcgi_split_path_info ^(.+\\.php)(/.+)$;\r\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\r\n                fastcgi_intercept_errors on;\r\n                fastcgi_ignore_client_abort off;\r\n                fastcgi_connect_timeout 60;\r\n                fastcgi_send_timeout 90;\r\n                fastcgi_read_timeout 90;\r\n                fastcgi_buffer_size 128k;\r\n                fastcgi_buffers 4 256k;\r\n                fastcgi_busy_buffers_size 256k;\r\n                fastcgi_cache CZONE;\r\n                fastcgi_cache_valid   200 302  1h;\r\n                fastcgi_cache_valid   301 1h;\r\n                fastcgi_cache_min_uses  2;\r\n        }\r\n\r\n        #Para Framewok de PHP\r\n        if (!-e $request_filename){\r\n                rewrite ^(.+)$ /index.php?url=$1 break;\r\n        }\r\n\r\n        error_log /var/www/__logs/error error;\r\n}\r\n```\r\n#### NOTICE OF LICENSE\r\nThis source file is subject to the Open Software License (OSL 3.0) that is available through the world-wide-web at this URL:\r\nhttp://opensource.org/licenses/osl-3.0.php\r\n\r\n**Happy coding!**\r\n- [ivan miranda](http://ivanmiranda.me)\r\n","google":"UA-12841217-1","note":"Don't delete this file! It's used internally to help with page regeneration."}